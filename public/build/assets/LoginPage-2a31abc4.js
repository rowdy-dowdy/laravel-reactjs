import{r as a,u as g,a as j,b,j as s,L as f,p as k}from"./main-ea3bcec7.js";import{T as o}from"./TextField-09a07e57.js";import{I as r}from"./InputAdornment-1c3242d7.js";import{B as N}from"./Button-dbb12d56.js";import"./extendSxProp-02d77161.js";const L=()=>{const[n,c]=a.useState(!1);g();const[t,l]=a.useState(!1);a.useState("");const{login:m}=j(),[h,w]=b(),i=h.get("redirect_url"),p=async e=>{e.preventDefault(),await k({loading:t,setLoading:l,successTitle:"Đăng nhập thành công",callback:async()=>{const{email:d,password:u,remember:x}=Object.fromEntries(new FormData(e.target));await m({email:d,password:u,remember:x}).catch(y=>{throw Error("Tài khoản hoặc mật khẩu không đúng")})}})};return s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:"text-xl font-bold text-center",children:"Đăng nhập"}),s.jsxs("form",{className:"mt-6 flex max-w-xl flex-col space-y-6",onSubmit:p,children:[s.jsx(o,{label:"Tài khoản",name:"email",className:"bg-slte-100",InputProps:{startAdornment:s.jsx(r,{position:"start",children:s.jsx("span",{className:"icon",children:"email"})})},required:!0}),s.jsx(o,{label:"Mật khẩu",name:"password",className:"bg-slae-100",type:n?"text":"password",InputProps:{startAdornment:s.jsx(r,{position:"start",children:s.jsx("span",{className:"icon",children:"key"})}),endAdornment:s.jsx(r,{position:"start",children:s.jsx("span",{className:"icon cursor-pointer",onClick:()=>c(e=>!e),children:n?"visibility_off":"visibility"})})},required:!0}),s.jsx(N,{type:"submit",variant:"contained",disabled:t,size:"large",startIcon:t?s.jsx("span",{className:"icon animate-spin",children:"progress_activity"}):null,children:"Tiếp tục"}),s.jsxs("p",{className:"text-center",children:["Bạn không có tài khoản. ",s.jsx(f,{to:`/auth/register${i?"?redirect_url="+i:""}`,className:"text-blue-600 hover:text-blue-400",children:"Đăng ký"})]})]})]})};export{L as default};
